<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Vue</title>
    <script src="../js/vue.js"></script>
</head>
<body>
    <div id="app"> <!-- HTML DOM template-->
        <counter :init="count" @my-emit="makeSync"></counter>

        <h2>new Vue: {{count}}</h2>
    </div>

    <script> 
        // global component
        Vue.component('counter',{
            props: ['init'],
            data(){
                return {
                    count: this.init,
                }
            },
            template: `
                <div>
                    <button @click="count+=1"> Add </button>
                    <button @click="sync"> Sync </button>
                    <h2>counter: {{count}}</h2>
                </div>
            `,
            methods: {
                sync(){
                    this.$emit('my-emit',this.count)
                },
            },
        })

        let vm = new Vue({ 
            el: '#app', 
            data: {
                count: 0,
            },
            methods: {
                makeSync(count){
                    this.count = count
                },
            },
        })
    </script>
</body>
</html>